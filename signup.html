<!doctype html>
<html xmlns:ng="http://angularjs.org" id="ng-app" ng-app="signup" ng-controller="control" >
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/daterangepicker-bs3.css" rel="stylesheet">
    <style type="text/css">
        /* form styles */
        .error {
            padding-left: 1em;
            color: red;
            font-size: 80%;
        }
        table th,td {
            padding-right: 1em;
        }
        table  th {
            font-weight: bold;
        }
        table  tr:nth-child(odd) {
            background-color: #ddd;
        }
    </style>
    <title>After EP: visit BMW Motorrad Days</title>
</head>
<body ng-controller="control">
<div class="container">
<h1>After EP: BMW Motorrad Days</h1>
<p>
    The weekend following EP20 the BMW Motorrad Days are held in Garmisch.
    For those wanting to visit, Sasha is arranging a group deal at the
    <a href="http://www.pichlers-alpenlodge.at/" target="_blank">Pichler&apos;s Alpenlodge</a> (opens
    in a new window). This hotel is located about 40 minutes from Garmisch.<br>
    For the deal to work out we need some information about your preferred arrival and departure dates,
    and your preferred room arrangement.
    Please fill out the form below if you would like to join the BMW Motorrad visit.
    <!-- start june 29 end july 5  32 eur pp per night incl breakfast -->
<form id="signup" name="signup">
    <label for="naam">Your name</label><br>
    <input ng-model="naam" type="text" id="naam" name="naam" size="40" placeholder="Enter your name"/>
    <span class="error" id="error-naam" ng-bind="errornaam"></span>
    <br>
    <label for="persons">Number of persons / bikes / cars</label><br>
    Persons
    <input ng-model="persons" type="text" id="persons" name="persons" size="2" maxlength="1"/>
    Bikes
    <input ng-model="bikes" type="text" id="bikes" name="bikes" size="2" maxlength="1"/>
    Cars
    <input ng-model="cars" type="text" id="cars" name="cars" size="2" maxlength="1"/>
    <span class="error" id="error-persons" ng-bind="errorpersons"></span>
    <br>
    <label for="remarks">remarks</label><br>
    <input ng-model="remarks" type="text" name="remarks" id="remarks" size="40" placeholder="Any remark you want to add"/>
    <br>
    <label for="room">Room preference</label><br>
    <select name="room" id="room" ng-model="room" ng-options="room for room in rooms">
        <option value=""><-- choose one --></option>
    </select>
    <span class="error" id="error-room" ng-bind="errorroom"></span>
    <br>
    <label for="arrival">Please first select your preferred arrival date, afterwards your depart date</label><br>
    arrival:&nbsp;
    <select name="arrival" id="arrival" data-ng-model="arrival"
            data-ng-options="arrival for arrival in arriveOptions"
            data-ng-change="getDepartOptions()">
        <option value="">select arrival first</option>
    </select>
    &nbsp;depart:&nbsp;
    <select name="depart" data-ng-model="depart" data-ng-options="depart for depart in departOptions" data-ng-show="departOptions.length"></select>
    <br>
    <br><br>
    <button ng-click="submit()" ng-disabled="processing" class="btn btn-default">submit</button>
</form>
   </p>
<p>The following <span ng-bind="calctotal()"></span> persons have already expressed interest:</p>
<table id="participants">
    <tr>
        <th>name</th>
        <th>persons</th>
        <th>bikes</th>
        <th>cars</th>
        <th>room preference</th>
        <th>arrival</th>
        <th>depart</th>
        <th>remarks</th>
    </tr>
    <tr ng-repeat="participant in participants">
        <td ng-bind="participant.naam"></td>
        <td ng-bind="participant.persons"></td>
        <td ng-bind="participant.bikes"></td>
        <td ng-bind="participant.cars"></td>
        <td ng-bind="participant.room"></td>
        <td ng-bind="participant.arrival"></td>
        <td ng-bind="participant.depart"></td>
        <td ng-bind="participant.remarks"></td>
    </tr>
</table>
<br>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
    <script src="script/moment.min.js"></script>
    <script src="script/daterangepicker.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.js"></script>
    <script src="script/ng-bs-daterangepicker.js"></script>
    <script src="controller.js"></script>
    <script type="text/javascript">
        var alertFallback = false;
        if (typeof console === "undefined" || typeof console.log === "undefined") {
            console = {};
            if (alertFallback) {
                console.log = function(msg) {
                    alert(msg);
                };
            } else {
                console.log = function() {};
            }
        }
    </script>
</div>
</body>
</html>
